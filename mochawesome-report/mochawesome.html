<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{
  &quot;stats&quot;: {
    &quot;suites&quot;: 9,
    &quot;tests&quot;: 23,
    &quot;passes&quot;: 23,
    &quot;pending&quot;: 0,
    &quot;failures&quot;: 0,
    &quot;start&quot;: &quot;2017-09-05T05:12:13.149Z&quot;,
    &quot;end&quot;: &quot;2017-09-05T05:38:29.640Z&quot;,
    &quot;duration&quot;: 1576491,
    &quot;testsRegistered&quot;: 23,
    &quot;passPercent&quot;: 100,
    &quot;pendingPercent&quot;: 0,
    &quot;other&quot;: 0,
    &quot;hasOther&quot;: false,
    &quot;skipped&quot;: 0,
    &quot;hasSkipped&quot;: false,
    &quot;passPercentClass&quot;: &quot;success&quot;,
    &quot;pendingPercentClass&quot;: &quot;danger&quot;
  },
  &quot;suites&quot;: {
    &quot;title&quot;: &quot;&quot;,
    &quot;suites&quot;: [
      {
        &quot;title&quot;: &quot;Contract: Contribution&quot;,
        &quot;suites&quot;: [
          {
            &quot;title&quot;: &quot;#initializeTier&quot;,
            &quot;suites&quot;: [
              {
                &quot;title&quot;: &quot;fallback&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;throws when called&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier fallback throws when called&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 8237,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.send(tier1_params.minimum);\n                await tier1_deployed.send(tier1_params.minimum);\n                await cnd.send(tier1_params.minimum);\n                const totalInvested = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvested, 0);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;59b9eab5-4c93-4747-8635-bf314313ce55&quot;,
                    &quot;parentUUID&quot;: &quot;65eddc67-abb8-4d64-a4a5-e1eb82ab5ed0&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;65eddc67-abb8-4d64-a4a5-e1eb82ab5ed0&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;throws when called&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier fallback throws when called&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 8237,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.send(tier1_params.minimum);\n                await tier1_deployed.send(tier1_params.minimum);\n                await cnd.send(tier1_params.minimum);\n                const totalInvested = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvested, 0);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;59b9eab5-4c93-4747-8635-bf314313ce55&quot;,
                    &quot;parentUUID&quot;: &quot;65eddc67-abb8-4d64-a4a5-e1eb82ab5ed0&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 1,
                &quot;totalPasses&quot;: 1,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 8237,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#proxyBuy&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;allows to buy 1 whiteslited investor&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy allows to buy 1 whiteslited investor&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3667,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const pre = await web3.eth.getBalance(owner);\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                const post = await web3.eth.getBalance(owner);\n                const postCon = await web3.eth.getBalance(contributionWallet);\n                assert(post.toNumber() &lt; pre.toNumber(), &#x27;post is more than pre&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), weiToSend.toNumber(), &#x27;contributionWallet balance is not equal to weiToSend&#x27;);\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), weiToSend.toNumber(), &#x27;totalWei is not equal to invested amount&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = weiToSend.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                let tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), tier1_params.maxInvestorCap.sub(weiToSend).mul(tier1_params.exchangeRate));\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;f75c3ace-985e-403e-b5b4-b2b14a031325&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5058,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.maxInvestorCap.toNumber());\n                const tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), 0);\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, false, &#x27;capTier should not be full&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), tier1_params.maxInvestorCap.toNumber(), &#x27;contributionWallet balance is not equal to maxCap&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;4863b6a1-26d3-4cdf-a2b2-fa0f51469453&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if maxCapInvestor is reached&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if maxCapInvestor is reached&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3104,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: 1 });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;6b541cba-489a-4527-b27c-c804a39ccc8f&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if tier cap is reached&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if tier cap is reached&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 9300,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;dba5a247-b44c-4795-bf98-1065dc0f2899&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if not whitelisted&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if not whitelisted&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3045,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;7eb180b1-5250-44a4-b7ba-16f71b1af440&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if endTime is passed&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if endTime is passed&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6181,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;52377389-aec2-42ef-a6f2-a2111f273647&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;reach totalCap happy path&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy reach totalCap happy path&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5180,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.totalCap.toNumber());\n                let tokensLeftOwner = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeftOwner.toNumber(), 0);\n                let tokensLeftAdvisor = await contribution.investorAmountTokensToBuy(advisorsWallet);\n                // tier cap is 2 eth, we should only process 0.5 eth, so 1 eth * exchangeRate = 3 * 10**18 tokens\n                assert.equal(tokensLeftAdvisor.toNumber(), new BigNumber(10 ** 18 * 3));\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, true);\n                const totalSold = await contribution.totalTokensSold();\n                assert.equal(totalSold, tier1_params.totalCap.mul(tier1_params.exchangeRate).toNumber());\n                const investedWei = await tier1_deployed.totalInvestedWei();\n                assert.equal(investedWei.toNumber(), tier1_params.totalCap.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;adb6b484-be78-41aa-8b30-726abfcc9b05&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                &quot;beforeHooks&quot;: [
                  {
                    &quot;title&quot;: &quot;\&quot;before each\&quot; hook&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy \&quot;before each\&quot; hook&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 8254,
                    &quot;pass&quot;: false,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                const isWhitelisted = await contribution.isWhitelisted(owner, 0);\n                assert.equal(isWhitelisted, true, &#x27;whitelisting did not go thru&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;d7615ceb-0534-4de5-a180-479f44c19527&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: true,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;allows to buy 1 whiteslited investor&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy allows to buy 1 whiteslited investor&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3667,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const pre = await web3.eth.getBalance(owner);\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                const post = await web3.eth.getBalance(owner);\n                const postCon = await web3.eth.getBalance(contributionWallet);\n                assert(post.toNumber() &lt; pre.toNumber(), &#x27;post is more than pre&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), weiToSend.toNumber(), &#x27;contributionWallet balance is not equal to weiToSend&#x27;);\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), weiToSend.toNumber(), &#x27;totalWei is not equal to invested amount&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = weiToSend.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                let tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), tier1_params.maxInvestorCap.sub(weiToSend).mul(tier1_params.exchangeRate));\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;f75c3ace-985e-403e-b5b4-b2b14a031325&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5058,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.maxInvestorCap.toNumber());\n                const tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), 0);\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, false, &#x27;capTier should not be full&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), tier1_params.maxInvestorCap.toNumber(), &#x27;contributionWallet balance is not equal to maxCap&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;4863b6a1-26d3-4cdf-a2b2-fa0f51469453&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if maxCapInvestor is reached&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if maxCapInvestor is reached&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3104,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: 1 });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;6b541cba-489a-4527-b27c-c804a39ccc8f&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if tier cap is reached&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if tier cap is reached&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 9300,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;dba5a247-b44c-4795-bf98-1065dc0f2899&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if not whitelisted&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if not whitelisted&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3045,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;7eb180b1-5250-44a4-b7ba-16f71b1af440&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if endTime is passed&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy throws if endTime is passed&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6181,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;52377389-aec2-42ef-a6f2-a2111f273647&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;reach totalCap happy path&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #proxyBuy reach totalCap happy path&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5180,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.totalCap.toNumber());\n                let tokensLeftOwner = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeftOwner.toNumber(), 0);\n                let tokensLeftAdvisor = await contribution.investorAmountTokensToBuy(advisorsWallet);\n                // tier cap is 2 eth, we should only process 0.5 eth, so 1 eth * exchangeRate = 3 * 10**18 tokens\n                assert.equal(tokensLeftAdvisor.toNumber(), new BigNumber(10 ** 18 * 3));\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, true);\n                const totalSold = await contribution.totalTokensSold();\n                assert.equal(totalSold, tier1_params.totalCap.mul(tier1_params.exchangeRate).toNumber());\n                const investedWei = await tier1_deployed.totalInvestedWei();\n                assert.equal(investedWei.toNumber(), tier1_params.totalCap.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;adb6b484-be78-41aa-8b30-726abfcc9b05&quot;,
                    &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: true,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 7,
                &quot;totalPasses&quot;: 7,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 35535,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#finalize&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;increases tierCount&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #finalize increases tierCount&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6139,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 0);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.finalize();\n                tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 1);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;f16c2111-3ba9-44ad-8250-b80ee05514c6&quot;,
                    &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws when you call finalize on non-existed tier&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #finalize throws when you call finalize on non-existed tier&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3028,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const tierCountBefore = await contribution.tierCount();\n                await contribution.finalize();\n                const tierCountAfter = await contribution.tierCount();\n                assert.equal(tierCountBefore.toNumber(), tierCountAfter.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;c56a89ff-90b1-4410-b06b-299dafa8bce8&quot;,
                    &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;increases tierCount&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #finalize increases tierCount&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6139,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 0);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.finalize();\n                tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 1);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;f16c2111-3ba9-44ad-8250-b80ee05514c6&quot;,
                    &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws when you call finalize on non-existed tier&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #finalize throws when you call finalize on non-existed tier&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 3028,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const tierCountBefore = await contribution.tierCount();\n                await contribution.finalize();\n                const tierCountAfter = await contribution.tierCount();\n                assert.equal(tierCountBefore.toNumber(), tierCountAfter.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;c56a89ff-90b1-4410-b06b-299dafa8bce8&quot;,
                    &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 2,
                &quot;totalPasses&quot;: 2,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 9167,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#pauseContribution&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;sets paused&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution sets paused&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 4081,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let paused = await contribution.paused();\n                assert.equal(paused, false);\n                await contribution.pauseContribution(true);\n                paused = await contribution.paused();\n                assert.equal(paused, true);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;418bbeb6-e895-4690-8b26-3542fe7df39f&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws when you proxyBuy with paused state&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution throws when you proxyBuy with paused state&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 15491,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.pauseContribution(true);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;04579007-6112-4a89-a6e8-eeecb96d5d13&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if non-owner calls it&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution throws if non-owner calls it&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 4195,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                const before = await contribution.paused();\n                await contribution.pauseContribution(true, { from: advisorsWallet });\n                const after = await contribution.paused();\n                assert.equal(before, after);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;a8da54fd-8372-4db8-ad2d-4ce0793596a7&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;sets paused&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution sets paused&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 4081,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let paused = await contribution.paused();\n                assert.equal(paused, false);\n                await contribution.pauseContribution(true);\n                paused = await contribution.paused();\n                assert.equal(paused, true);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;418bbeb6-e895-4690-8b26-3542fe7df39f&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws when you proxyBuy with paused state&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution throws when you proxyBuy with paused state&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 15491,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.pauseContribution(true);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;04579007-6112-4a89-a6e8-eeecb96d5d13&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;throws if non-owner calls it&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #pauseContribution throws if non-owner calls it&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 4195,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                const before = await contribution.paused();\n                await contribution.pauseContribution(true, { from: advisorsWallet });\n                const after = await contribution.paused();\n                assert.equal(before, after);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;a8da54fd-8372-4db8-ad2d-4ce0793596a7&quot;,
                    &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 3,
                &quot;totalPasses&quot;: 3,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 23767,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#allocate&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;happy path&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allocate happy path&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 46989,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const should = require(&#x27;chai&#x27;)\n                    .use(require(&#x27;chai-as-promised&#x27;))\n                    .use(require(&#x27;chai-bignumber&#x27;)(BigNumber))\n                    .should()\n                await deployThreeTiers();\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.initializeTier(\n                    1, tier2_deployed.address\n                );\n                await contribution.initializeTier(\n                    2, tier3_deployed.address\n                );\n                await contribution.initializeTier(\n                    3, tier4_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier4_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.proxyPayment(owner, { from: owner, value: tier4_params.maxInvestorCap });\n                const totalTokenSold = await contribution.totalTokensSold();\n                const totalSupply = totalTokenSold.mul(100).div(75);\n                const foundersAmount = totalSupply.div(5);\n                const advisorsAmount = totalSupply.mul(38).div(1000);\n                const bountyAmount = totalSupply.mul(12).div(1000);\n                await contribution.finalize();\n                //will be succesful\n                await contribution.allocate();\n                // will be rejected\n                await contribution.allocate();\n                const balanceFounders = await cnd.balanceOf(foundersWallet);\n                const balanceAdvisors = await cnd.balanceOf(advisorsWallet);\n                const balanceBounty = await cnd.balanceOf(bountyWallet);\n                foundersAmount.should.be.bignumber.equal(balanceFounders, 0, BigNumber.ROUND_DOWN, &#x27;balanceFounders failed&#x27;);\n                advisorsAmount.should.be.bignumber.equal(advisorsAmount, 0, BigNumber.ROUND_DOWN, &#x27;balanceAdvisors failed&#x27;);\n                bountyAmount.should.be.bignumber.equal(balanceBounty, 0, BigNumber.ROUND_DOWN, &#x27;balanceBounty failed&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;6786de15-d51e-4088-ac96-d133d816d451&quot;,
                    &quot;parentUUID&quot;: &quot;32614910-8138-46d5-b48a-ba096b01d356&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;32614910-8138-46d5-b48a-ba096b01d356&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;happy path&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allocate happy path&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 46989,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                const should = require(&#x27;chai&#x27;)\n                    .use(require(&#x27;chai-as-promised&#x27;))\n                    .use(require(&#x27;chai-bignumber&#x27;)(BigNumber))\n                    .should()\n                await deployThreeTiers();\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.initializeTier(\n                    1, tier2_deployed.address\n                );\n                await contribution.initializeTier(\n                    2, tier3_deployed.address\n                );\n                await contribution.initializeTier(\n                    3, tier4_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier4_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.proxyPayment(owner, { from: owner, value: tier4_params.maxInvestorCap });\n                const totalTokenSold = await contribution.totalTokensSold();\n                const totalSupply = totalTokenSold.mul(100).div(75);\n                const foundersAmount = totalSupply.div(5);\n                const advisorsAmount = totalSupply.mul(38).div(1000);\n                const bountyAmount = totalSupply.mul(12).div(1000);\n                await contribution.finalize();\n                //will be succesful\n                await contribution.allocate();\n                // will be rejected\n                await contribution.allocate();\n                const balanceFounders = await cnd.balanceOf(foundersWallet);\n                const balanceAdvisors = await cnd.balanceOf(advisorsWallet);\n                const balanceBounty = await cnd.balanceOf(bountyWallet);\n                foundersAmount.should.be.bignumber.equal(balanceFounders, 0, BigNumber.ROUND_DOWN, &#x27;balanceFounders failed&#x27;);\n                advisorsAmount.should.be.bignumber.equal(advisorsAmount, 0, BigNumber.ROUND_DOWN, &#x27;balanceAdvisors failed&#x27;);\n                bountyAmount.should.be.bignumber.equal(balanceBounty, 0, BigNumber.ROUND_DOWN, &#x27;balanceBounty failed&#x27;);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;6786de15-d51e-4088-ac96-d133d816d451&quot;,
                    &quot;parentUUID&quot;: &quot;32614910-8138-46d5-b48a-ba096b01d356&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 1,
                &quot;totalPasses&quot;: 1,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 46989,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#allowTransfers&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;sets transferrable&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allowTransfers sets transferrable&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 11334,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                let transferable = await contribution.transferable();\n                assert.equal(transferable, false);\n                await contribution.allowTransfers(true);\n                transferable = await contribution.transferable();\n                assert.equal(transferable, true);\n                let balanceOwner = await cnd.balanceOf(owner);\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(balanceOwner.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);\n                await cnd.transfer(foundersWallet, userShouldReceiveTokens, { from: owner });\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;founderwallet did not receive tokens&#x27;);\n                balanceOwner = await cnd.balanceOf(owner);\n                assert.equal(balanceOwner.toNumber(), 0);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;b46113e5-aad6-4fc4-af35-e01f22e44e83&quot;,
                    &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;always allows to transfer after October 12&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allowTransfers always allows to transfer after October 12&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 16362,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const balanceBeforeMiner = await cnd.balanceOf(miner);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                let balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner.toNumber(), balanceBeforeMiner.toNumber());\n                const October12_2017 = 1507830400;\n                await contribution.setBlockTimestamp(October12_2017 + 1);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner, 0);\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), balanceBeforeMiner.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;89f71ea2-db51-4a4d-9ba1-d689b7d44d96&quot;,
                    &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;sets transferrable&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allowTransfers sets transferrable&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 11334,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                let transferable = await contribution.transferable();\n                assert.equal(transferable, false);\n                await contribution.allowTransfers(true);\n                transferable = await contribution.transferable();\n                assert.equal(transferable, true);\n                let balanceOwner = await cnd.balanceOf(owner);\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(balanceOwner.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);\n                await cnd.transfer(foundersWallet, userShouldReceiveTokens, { from: owner });\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;founderwallet did not receive tokens&#x27;);\n                balanceOwner = await cnd.balanceOf(owner);\n                assert.equal(balanceOwner.toNumber(), 0);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;b46113e5-aad6-4fc4-af35-e01f22e44e83&quot;,
                    &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;always allows to transfer after October 12&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #allowTransfers always allows to transfer after October 12&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 16362,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const balanceBeforeMiner = await cnd.balanceOf(miner);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                let balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner.toNumber(), balanceBeforeMiner.toNumber());\n                const October12_2017 = 1507830400;\n                await contribution.setBlockTimestamp(October12_2017 + 1);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner, 0);\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), balanceBeforeMiner.toNumber());&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;89f71ea2-db51-4a4d-9ba1-d689b7d44d96&quot;,
                    &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 2,
                &quot;totalPasses&quot;: 2,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 27696,
                &quot;rootEmpty&quot;: false
              },
              {
                &quot;title&quot;: &quot;#contributionOpen&quot;,
                &quot;suites&quot;: [],
                &quot;tests&quot;: [
                  {
                    &quot;title&quot;: &quot;happy path - returns true&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen happy path - returns true&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5202,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, true);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;7c8dcfc1-3cc1-401e-8bec-b3ff44c3744e&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;returns false when endTime passed&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen returns false when endTime passed&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6193,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;5e275866-7110-4aec-8068-abdc43c94081&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;returns false when finalized was called&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen returns false when finalized was called&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 12422,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner, advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                const finalizedTime = await tier1_deployed.finalizedTime();\n                assert(finalizedTime.toNumber() &gt; 0);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;2078af31-7f0d-451f-8095-f95339c02274&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;pending&quot;: [],
                &quot;root&quot;: false,
                &quot;_timeout&quot;: 300000,
                &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
                &quot;uuid&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                &quot;beforeHooks&quot;: [],
                &quot;afterHooks&quot;: [],
                &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
                &quot;passes&quot;: [
                  {
                    &quot;title&quot;: &quot;happy path - returns true&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen happy path - returns true&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 5202,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, true);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;7c8dcfc1-3cc1-401e-8bec-b3ff44c3744e&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;returns false when endTime passed&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen returns false when endTime passed&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 6193,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;5e275866-7110-4aec-8068-abdc43c94081&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  },
                  {
                    &quot;title&quot;: &quot;returns false when finalized was called&quot;,
                    &quot;fullTitle&quot;: &quot;#initializeTier #contributionOpen returns false when finalized was called&quot;,
                    &quot;timedOut&quot;: false,
                    &quot;duration&quot;: 12422,
                    &quot;state&quot;: &quot;passed&quot;,
                    &quot;speed&quot;: &quot;slow&quot;,
                    &quot;pass&quot;: true,
                    &quot;fail&quot;: false,
                    &quot;pending&quot;: false,
                    &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner, advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                const finalizedTime = await tier1_deployed.finalizedTime();\n                assert(finalizedTime.toNumber() &gt; 0);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
                    &quot;err&quot;: {},
                    &quot;isRoot&quot;: false,
                    &quot;uuid&quot;: &quot;2078af31-7f0d-451f-8095-f95339c02274&quot;,
                    &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
                    &quot;isHook&quot;: false,
                    &quot;skipped&quot;: false
                  }
                ],
                &quot;failures&quot;: [],
                &quot;skipped&quot;: [],
                &quot;hasBeforeHooks&quot;: false,
                &quot;hasAfterHooks&quot;: false,
                &quot;hasTests&quot;: true,
                &quot;hasSuites&quot;: false,
                &quot;totalTests&quot;: 3,
                &quot;totalPasses&quot;: 3,
                &quot;totalFailures&quot;: 0,
                &quot;totalPending&quot;: 0,
                &quot;totalSkipped&quot;: 0,
                &quot;hasPasses&quot;: true,
                &quot;hasFailures&quot;: false,
                &quot;hasPending&quot;: false,
                &quot;hasSkipped&quot;: false,
                &quot;duration&quot;: 23817,
                &quot;rootEmpty&quot;: false
              }
            ],
            &quot;tests&quot;: [
              {
                &quot;title&quot;: &quot;can intialize 4 tiers&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier can intialize 4 tiers&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 20293,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            const tier1_from_contribution_array = await contribution.tiers(0);\n            assert.equal(tier1_from_contribution_array, tier1_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier2_from_contribution_array = await contribution.tiers(1);\n            assert.equal(tier2_from_contribution_array, tier2_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier3_from_contribution_array = await contribution.tiers(2);\n            assert.equal(tier3_from_contribution_array, tier3_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier4_from_contribution_array = await contribution.tiers(3);\n            assert.equal(tier4_from_contribution_array, tier4_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;25f45cd7-9eb6-4bef-bdb8-fa7cc5812800&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              },
              {
                &quot;title&quot;: &quot;throws when you try to overwrite tier&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier throws when you try to overwrite tier&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 7182,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            const txReceipt = await contribution.initializeTier(0, \&quot;0x999\&quot;);\n            const tier = await contribution.tiers(0);\n            assert.equal(tier, tier1_deployed.address);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;0b958097-451e-4916-ada1-3b5a5e186829&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              },
              {
                &quot;title&quot;: &quot;throws when you try to initialize 5 tiers&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier throws when you try to initialize 5 tiers&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 23386,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            await contribution.initializeTier(4, tier1_deployed.address);\n            const tier = await contribution.tiers(4);\n            assert.equal(tier, \&quot;0x\&quot;);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;42b3cad2-1e09-4372-a0c9-f39543d4d993&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              }
            ],
            &quot;pending&quot;: [],
            &quot;root&quot;: false,
            &quot;_timeout&quot;: 300000,
            &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
            &quot;uuid&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
            &quot;beforeHooks&quot;: [
              {
                &quot;title&quot;: &quot;\&quot;before each\&quot; hook&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier \&quot;before each\&quot; hook&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 55498,
                &quot;pass&quot;: false,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            function unlockAccounts(password) {\n                for (var i = 0; i &lt; web3.eth.accounts.length; i++) {\n                    web3.personal.unlockAccount(`${web3.eth.accounts[i]}`, password, 100000);\n                }\n            }\n            unlockAccounts(&#x27;testtest&#x27;);\n            const tokenFactory = await MiniMeTokenFactory.new();\n            cnd = await CND.new(tokenFactory.address);\n            contribution = await Contribution.new(\n                cnd.address,\n                contributionWallet,\n                foundersWallet,\n                advisorsWallet,\n                bountyWallet\n            );\n            await cnd.changeController(contribution.address);\n            tier1_params = {\n                totalCap: new BigNumber(10 ** 18 * 2),\n                minimum: new BigNumber(10 ** 18 * 0.5),\n                maxInvestorCap: new BigNumber(10 ** 18 * 1.5),\n                exchangeRate: 3,\n                startTime: latestTime() + duration.minutes(5),\n                endTime: latestTime() + duration.weeks(1),\n                contributionAddress: contribution.address\n            }\n            tier1_deployed = await Tier.new(tier1_params.totalCap, tier1_params.minimum, tier1_params.maxInvestorCap, tier1_params.exchangeRate, tier1_params.startTime, tier1_params.endTime);\n            await tier1_deployed.changeController(contribution.address);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;b590904a-9e23-49a8-891e-66fdfd095264&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: true,
                &quot;skipped&quot;: false
              }
            ],
            &quot;afterHooks&quot;: [],
            &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
            &quot;passes&quot;: [
              {
                &quot;title&quot;: &quot;can intialize 4 tiers&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier can intialize 4 tiers&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 20293,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            const tier1_from_contribution_array = await contribution.tiers(0);\n            assert.equal(tier1_from_contribution_array, tier1_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier2_from_contribution_array = await contribution.tiers(1);\n            assert.equal(tier2_from_contribution_array, tier2_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier3_from_contribution_array = await contribution.tiers(2);\n            assert.equal(tier3_from_contribution_array, tier3_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier4_from_contribution_array = await contribution.tiers(3);\n            assert.equal(tier4_from_contribution_array, tier4_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;25f45cd7-9eb6-4bef-bdb8-fa7cc5812800&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              },
              {
                &quot;title&quot;: &quot;throws when you try to overwrite tier&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier throws when you try to overwrite tier&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 7182,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            const txReceipt = await contribution.initializeTier(0, \&quot;0x999\&quot;);\n            const tier = await contribution.tiers(0);\n            assert.equal(tier, tier1_deployed.address);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;0b958097-451e-4916-ada1-3b5a5e186829&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              },
              {
                &quot;title&quot;: &quot;throws when you try to initialize 5 tiers&quot;,
                &quot;fullTitle&quot;: &quot;Contract: Contribution #initializeTier throws when you try to initialize 5 tiers&quot;,
                &quot;timedOut&quot;: false,
                &quot;duration&quot;: 23386,
                &quot;state&quot;: &quot;passed&quot;,
                &quot;speed&quot;: &quot;slow&quot;,
                &quot;pass&quot;: true,
                &quot;fail&quot;: false,
                &quot;pending&quot;: false,
                &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            await contribution.initializeTier(4, tier1_deployed.address);\n            const tier = await contribution.tiers(4);\n            assert.equal(tier, \&quot;0x\&quot;);&quot;,
                &quot;err&quot;: {},
                &quot;isRoot&quot;: false,
                &quot;uuid&quot;: &quot;42b3cad2-1e09-4372-a0c9-f39543d4d993&quot;,
                &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
                &quot;isHook&quot;: false,
                &quot;skipped&quot;: false
              }
            ],
            &quot;failures&quot;: [],
            &quot;skipped&quot;: [],
            &quot;hasBeforeHooks&quot;: true,
            &quot;hasAfterHooks&quot;: false,
            &quot;hasTests&quot;: true,
            &quot;hasSuites&quot;: true,
            &quot;totalTests&quot;: 3,
            &quot;totalPasses&quot;: 3,
            &quot;totalFailures&quot;: 0,
            &quot;totalPending&quot;: 0,
            &quot;totalSkipped&quot;: 0,
            &quot;hasPasses&quot;: true,
            &quot;hasFailures&quot;: false,
            &quot;hasPending&quot;: false,
            &quot;hasSkipped&quot;: false,
            &quot;duration&quot;: 50861,
            &quot;rootEmpty&quot;: false
          }
        ],
        &quot;tests&quot;: [
          {
            &quot;title&quot;: &quot;#constructor accepts MiniMe instance&quot;,
            &quot;fullTitle&quot;: &quot;Contract: Contribution #constructor accepts MiniMe instance&quot;,
            &quot;timedOut&quot;: false,
            &quot;duration&quot;: 5734,
            &quot;state&quot;: &quot;passed&quot;,
            &quot;speed&quot;: &quot;slow&quot;,
            &quot;pass&quot;: true,
            &quot;fail&quot;: false,
            &quot;pending&quot;: false,
            &quot;code&quot;: &quot;async function () {\n        const tokenFactory = await MiniMeTokenFactory.new();\n        const cnd = await CND.new(tokenFactory.address);\n        const contribution = await Contribution.new(\n            cnd.address,\n            contributionWallet,\n            foundersWallet,\n            advisorsWallet,\n            bountyWallet\n        );\n        // await contribution.changeController(owner);\n        const miniMe = await contribution.cnd();\n        const contributionWalletAddress = await contribution.contributionWallet();\n        const foundersWalletAddress = await contribution.foundersWallet();\n        const bountyWalletAddress = await contribution.bountyWallet();\n        const advisorsWalletAddress = await contribution.advisorsWallet();\n        assert.equal(\n            miniMe,\n            cnd.address,\n            \&quot;== token address\&quot;\n        );\n        assert.equal(\n            contributionWalletAddress,\n            contributionWallet,\n            \&quot;== contribution wallet address\&quot;\n        );\n        assert.equal(\n            foundersWalletAddress,\n            foundersWallet,\n            \&quot;== founders wallet address\&quot;\n        );\n        assert.equal(\n            bountyWalletAddress,\n            bountyWallet,\n            \&quot;== bounty wallet address\&quot;\n        );\n        assert.equal(\n            advisorsWalletAddress,\n            advisorsWallet,\n            \&quot;== advisors wallet address\&quot;\n        );&quot;,
            &quot;err&quot;: {},
            &quot;isRoot&quot;: false,
            &quot;uuid&quot;: &quot;6ccebc62-6920-4726-91ef-08dbc0268edb&quot;,
            &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
            &quot;isHook&quot;: false,
            &quot;skipped&quot;: false
          }
        ],
        &quot;pending&quot;: [],
        &quot;root&quot;: false,
        &quot;_timeout&quot;: 300000,
        &quot;file&quot;: &quot;/test/contribution_test.js&quot;,
        &quot;uuid&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
        &quot;beforeHooks&quot;: [
          {
            &quot;title&quot;: &quot;\&quot;before all\&quot; hook: prepare suite&quot;,
            &quot;fullTitle&quot;: &quot;Contract: Contribution \&quot;before all\&quot; hook: prepare suite&quot;,
            &quot;timedOut&quot;: false,
            &quot;duration&quot;: 40,
            &quot;pass&quot;: false,
            &quot;fail&quot;: false,
            &quot;pending&quot;: false,
            &quot;code&quot;: &quot;this.timeout(runner.BEFORE_TIMEOUT);\nrunner.initialize(done);&quot;,
            &quot;err&quot;: {},
            &quot;isRoot&quot;: false,
            &quot;uuid&quot;: &quot;98a30801-8147-4c84-bd4c-01f5615bd082&quot;,
            &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
            &quot;isHook&quot;: true,
            &quot;skipped&quot;: false
          },
          {
            &quot;title&quot;: &quot;\&quot;before each\&quot; hook: before test&quot;,
            &quot;fullTitle&quot;: &quot;Contract: Contribution \&quot;before each\&quot; hook: before test&quot;,
            &quot;timedOut&quot;: false,
            &quot;duration&quot;: 19,
            &quot;pass&quot;: false,
            &quot;fail&quot;: false,
            &quot;pending&quot;: false,
            &quot;code&quot;: &quot;runner.startTest(this, done);&quot;,
            &quot;err&quot;: {},
            &quot;isRoot&quot;: false,
            &quot;uuid&quot;: &quot;5b779eeb-1d57-40c1-b4e5-ebc599e1ac29&quot;,
            &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
            &quot;isHook&quot;: true,
            &quot;skipped&quot;: false
          }
        ],
        &quot;afterHooks&quot;: [
          {
            &quot;title&quot;: &quot;\&quot;after each\&quot; hook: after test&quot;,
            &quot;fullTitle&quot;: &quot;Contract: Contribution \&quot;after each\&quot; hook: after test&quot;,
            &quot;timedOut&quot;: false,
            &quot;duration&quot;: 0,
            &quot;pass&quot;: false,
            &quot;fail&quot;: false,
            &quot;pending&quot;: false,
            &quot;code&quot;: &quot;runner.endTest(this, done);&quot;,
            &quot;err&quot;: {},
            &quot;isRoot&quot;: false,
            &quot;uuid&quot;: &quot;ae57132f-0b26-4a8e-90c9-a0fbce458e90&quot;,
            &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
            &quot;isHook&quot;: true,
            &quot;skipped&quot;: false
          }
        ],
        &quot;fullFile&quot;: &quot;/Users/rstorm/repos/audity/cindicator/test/contribution_test.js&quot;,
        &quot;passes&quot;: [
          {
            &quot;title&quot;: &quot;#constructor accepts MiniMe instance&quot;,
            &quot;fullTitle&quot;: &quot;Contract: Contribution #constructor accepts MiniMe instance&quot;,
            &quot;timedOut&quot;: false,
            &quot;duration&quot;: 5734,
            &quot;state&quot;: &quot;passed&quot;,
            &quot;speed&quot;: &quot;slow&quot;,
            &quot;pass&quot;: true,
            &quot;fail&quot;: false,
            &quot;pending&quot;: false,
            &quot;code&quot;: &quot;async function () {\n        const tokenFactory = await MiniMeTokenFactory.new();\n        const cnd = await CND.new(tokenFactory.address);\n        const contribution = await Contribution.new(\n            cnd.address,\n            contributionWallet,\n            foundersWallet,\n            advisorsWallet,\n            bountyWallet\n        );\n        // await contribution.changeController(owner);\n        const miniMe = await contribution.cnd();\n        const contributionWalletAddress = await contribution.contributionWallet();\n        const foundersWalletAddress = await contribution.foundersWallet();\n        const bountyWalletAddress = await contribution.bountyWallet();\n        const advisorsWalletAddress = await contribution.advisorsWallet();\n        assert.equal(\n            miniMe,\n            cnd.address,\n            \&quot;== token address\&quot;\n        );\n        assert.equal(\n            contributionWalletAddress,\n            contributionWallet,\n            \&quot;== contribution wallet address\&quot;\n        );\n        assert.equal(\n            foundersWalletAddress,\n            foundersWallet,\n            \&quot;== founders wallet address\&quot;\n        );\n        assert.equal(\n            bountyWalletAddress,\n            bountyWallet,\n            \&quot;== bounty wallet address\&quot;\n        );\n        assert.equal(\n            advisorsWalletAddress,\n            advisorsWallet,\n            \&quot;== advisors wallet address\&quot;\n        );&quot;,
            &quot;err&quot;: {},
            &quot;isRoot&quot;: false,
            &quot;uuid&quot;: &quot;6ccebc62-6920-4726-91ef-08dbc0268edb&quot;,
            &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
            &quot;isHook&quot;: false,
            &quot;skipped&quot;: false
          }
        ],
        &quot;failures&quot;: [],
        &quot;skipped&quot;: [],
        &quot;hasBeforeHooks&quot;: true,
        &quot;hasAfterHooks&quot;: true,
        &quot;hasTests&quot;: true,
        &quot;hasSuites&quot;: true,
        &quot;totalTests&quot;: 1,
        &quot;totalPasses&quot;: 1,
        &quot;totalFailures&quot;: 0,
        &quot;totalPending&quot;: 0,
        &quot;totalSkipped&quot;: 0,
        &quot;hasPasses&quot;: true,
        &quot;hasFailures&quot;: false,
        &quot;hasPending&quot;: false,
        &quot;hasSkipped&quot;: false,
        &quot;duration&quot;: 5734,
        &quot;rootEmpty&quot;: false
      }
    ],
    &quot;tests&quot;: [],
    &quot;pending&quot;: [],
    &quot;root&quot;: true,
    &quot;_timeout&quot;: 2000,
    &quot;uuid&quot;: &quot;ea598db1-4407-4754-bdae-a02aa7258e6d&quot;,
    &quot;beforeHooks&quot;: [],
    &quot;afterHooks&quot;: [],
    &quot;fullFile&quot;: &quot;&quot;,
    &quot;file&quot;: &quot;&quot;,
    &quot;passes&quot;: [],
    &quot;failures&quot;: [],
    &quot;skipped&quot;: [],
    &quot;hasBeforeHooks&quot;: false,
    &quot;hasAfterHooks&quot;: false,
    &quot;hasTests&quot;: false,
    &quot;hasSuites&quot;: true,
    &quot;totalTests&quot;: 0,
    &quot;totalPasses&quot;: 0,
    &quot;totalFailures&quot;: 0,
    &quot;totalPending&quot;: 0,
    &quot;totalSkipped&quot;: 0,
    &quot;hasPasses&quot;: false,
    &quot;hasFailures&quot;: false,
    &quot;hasPending&quot;: false,
    &quot;hasSkipped&quot;: false,
    &quot;duration&quot;: 0,
    &quot;rootEmpty&quot;: true
  },
  &quot;allTests&quot;: [
    {
      &quot;title&quot;: &quot;#constructor accepts MiniMe instance&quot;,
      &quot;fullTitle&quot;: &quot;Contract: Contribution #constructor accepts MiniMe instance&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5734,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n        const tokenFactory = await MiniMeTokenFactory.new();\n        const cnd = await CND.new(tokenFactory.address);\n        const contribution = await Contribution.new(\n            cnd.address,\n            contributionWallet,\n            foundersWallet,\n            advisorsWallet,\n            bountyWallet\n        );\n        // await contribution.changeController(owner);\n        const miniMe = await contribution.cnd();\n        const contributionWalletAddress = await contribution.contributionWallet();\n        const foundersWalletAddress = await contribution.foundersWallet();\n        const bountyWalletAddress = await contribution.bountyWallet();\n        const advisorsWalletAddress = await contribution.advisorsWallet();\n        assert.equal(\n            miniMe,\n            cnd.address,\n            \&quot;== token address\&quot;\n        );\n        assert.equal(\n            contributionWalletAddress,\n            contributionWallet,\n            \&quot;== contribution wallet address\&quot;\n        );\n        assert.equal(\n            foundersWalletAddress,\n            foundersWallet,\n            \&quot;== founders wallet address\&quot;\n        );\n        assert.equal(\n            bountyWalletAddress,\n            bountyWallet,\n            \&quot;== bounty wallet address\&quot;\n        );\n        assert.equal(\n            advisorsWalletAddress,\n            advisorsWallet,\n            \&quot;== advisors wallet address\&quot;\n        );&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6ccebc62-6920-4726-91ef-08dbc0268edb&quot;,
      &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;can intialize 4 tiers&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier can intialize 4 tiers&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 20293,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            const tier1_from_contribution_array = await contribution.tiers(0);\n            assert.equal(tier1_from_contribution_array, tier1_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier2_from_contribution_array = await contribution.tiers(1);\n            assert.equal(tier2_from_contribution_array, tier2_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier3_from_contribution_array = await contribution.tiers(2);\n            assert.equal(tier3_from_contribution_array, tier3_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier4_from_contribution_array = await contribution.tiers(3);\n            assert.equal(tier4_from_contribution_array, tier4_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;25f45cd7-9eb6-4bef-bdb8-fa7cc5812800&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you try to overwrite tier&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier throws when you try to overwrite tier&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 7182,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            const txReceipt = await contribution.initializeTier(0, \&quot;0x999\&quot;);\n            const tier = await contribution.tiers(0);\n            assert.equal(tier, tier1_deployed.address);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;0b958097-451e-4916-ada1-3b5a5e186829&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you try to initialize 5 tiers&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier throws when you try to initialize 5 tiers&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 23386,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            await contribution.initializeTier(4, tier1_deployed.address);\n            const tier = await contribution.tiers(4);\n            assert.equal(tier, \&quot;0x\&quot;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;42b3cad2-1e09-4372-a0c9-f39543d4d993&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when called&quot;,
      &quot;fullTitle&quot;: &quot;fallback throws when called&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 8237,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.send(tier1_params.minimum);\n                await tier1_deployed.send(tier1_params.minimum);\n                await cnd.send(tier1_params.minimum);\n                const totalInvested = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvested, 0);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;59b9eab5-4c93-4747-8635-bf314313ce55&quot;,
      &quot;parentUUID&quot;: &quot;65eddc67-abb8-4d64-a4a5-e1eb82ab5ed0&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;allows to buy 1 whiteslited investor&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy allows to buy 1 whiteslited investor&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3667,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const pre = await web3.eth.getBalance(owner);\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                const post = await web3.eth.getBalance(owner);\n                const postCon = await web3.eth.getBalance(contributionWallet);\n                assert(post.toNumber() &lt; pre.toNumber(), &#x27;post is more than pre&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), weiToSend.toNumber(), &#x27;contributionWallet balance is not equal to weiToSend&#x27;);\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), weiToSend.toNumber(), &#x27;totalWei is not equal to invested amount&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = weiToSend.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                let tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), tier1_params.maxInvestorCap.sub(weiToSend).mul(tier1_params.exchangeRate));\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;f75c3ace-985e-403e-b5b4-b2b14a031325&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5058,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.maxInvestorCap.toNumber());\n                const tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), 0);\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, false, &#x27;capTier should not be full&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), tier1_params.maxInvestorCap.toNumber(), &#x27;contributionWallet balance is not equal to maxCap&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;4863b6a1-26d3-4cdf-a2b2-fa0f51469453&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if maxCapInvestor is reached&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if maxCapInvestor is reached&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3104,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: 1 });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6b541cba-489a-4527-b27c-c804a39ccc8f&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if tier cap is reached&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if tier cap is reached&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 9300,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;dba5a247-b44c-4795-bf98-1065dc0f2899&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if not whitelisted&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if not whitelisted&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3045,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;7eb180b1-5250-44a4-b7ba-16f71b1af440&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if endTime is passed&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if endTime is passed&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6181,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;52377389-aec2-42ef-a6f2-a2111f273647&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;reach totalCap happy path&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy reach totalCap happy path&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5180,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.totalCap.toNumber());\n                let tokensLeftOwner = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeftOwner.toNumber(), 0);\n                let tokensLeftAdvisor = await contribution.investorAmountTokensToBuy(advisorsWallet);\n                // tier cap is 2 eth, we should only process 0.5 eth, so 1 eth * exchangeRate = 3 * 10**18 tokens\n                assert.equal(tokensLeftAdvisor.toNumber(), new BigNumber(10 ** 18 * 3));\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, true);\n                const totalSold = await contribution.totalTokensSold();\n                assert.equal(totalSold, tier1_params.totalCap.mul(tier1_params.exchangeRate).toNumber());\n                const investedWei = await tier1_deployed.totalInvestedWei();\n                assert.equal(investedWei.toNumber(), tier1_params.totalCap.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;adb6b484-be78-41aa-8b30-726abfcc9b05&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;increases tierCount&quot;,
      &quot;fullTitle&quot;: &quot;#finalize increases tierCount&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6139,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 0);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.finalize();\n                tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 1);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;f16c2111-3ba9-44ad-8250-b80ee05514c6&quot;,
      &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you call finalize on non-existed tier&quot;,
      &quot;fullTitle&quot;: &quot;#finalize throws when you call finalize on non-existed tier&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3028,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const tierCountBefore = await contribution.tierCount();\n                await contribution.finalize();\n                const tierCountAfter = await contribution.tierCount();\n                assert.equal(tierCountBefore.toNumber(), tierCountAfter.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;c56a89ff-90b1-4410-b06b-299dafa8bce8&quot;,
      &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;sets paused&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution sets paused&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 4081,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let paused = await contribution.paused();\n                assert.equal(paused, false);\n                await contribution.pauseContribution(true);\n                paused = await contribution.paused();\n                assert.equal(paused, true);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;418bbeb6-e895-4690-8b26-3542fe7df39f&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you proxyBuy with paused state&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution throws when you proxyBuy with paused state&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 15491,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.pauseContribution(true);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;04579007-6112-4a89-a6e8-eeecb96d5d13&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if non-owner calls it&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution throws if non-owner calls it&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 4195,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                const before = await contribution.paused();\n                await contribution.pauseContribution(true, { from: advisorsWallet });\n                const after = await contribution.paused();\n                assert.equal(before, after);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;a8da54fd-8372-4db8-ad2d-4ce0793596a7&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;happy path&quot;,
      &quot;fullTitle&quot;: &quot;#allocate happy path&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 46989,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const should = require(&#x27;chai&#x27;)\n                    .use(require(&#x27;chai-as-promised&#x27;))\n                    .use(require(&#x27;chai-bignumber&#x27;)(BigNumber))\n                    .should()\n                await deployThreeTiers();\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.initializeTier(\n                    1, tier2_deployed.address\n                );\n                await contribution.initializeTier(\n                    2, tier3_deployed.address\n                );\n                await contribution.initializeTier(\n                    3, tier4_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier4_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.proxyPayment(owner, { from: owner, value: tier4_params.maxInvestorCap });\n                const totalTokenSold = await contribution.totalTokensSold();\n                const totalSupply = totalTokenSold.mul(100).div(75);\n                const foundersAmount = totalSupply.div(5);\n                const advisorsAmount = totalSupply.mul(38).div(1000);\n                const bountyAmount = totalSupply.mul(12).div(1000);\n                await contribution.finalize();\n                //will be succesful\n                await contribution.allocate();\n                // will be rejected\n                await contribution.allocate();\n                const balanceFounders = await cnd.balanceOf(foundersWallet);\n                const balanceAdvisors = await cnd.balanceOf(advisorsWallet);\n                const balanceBounty = await cnd.balanceOf(bountyWallet);\n                foundersAmount.should.be.bignumber.equal(balanceFounders, 0, BigNumber.ROUND_DOWN, &#x27;balanceFounders failed&#x27;);\n                advisorsAmount.should.be.bignumber.equal(advisorsAmount, 0, BigNumber.ROUND_DOWN, &#x27;balanceAdvisors failed&#x27;);\n                bountyAmount.should.be.bignumber.equal(balanceBounty, 0, BigNumber.ROUND_DOWN, &#x27;balanceBounty failed&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6786de15-d51e-4088-ac96-d133d816d451&quot;,
      &quot;parentUUID&quot;: &quot;32614910-8138-46d5-b48a-ba096b01d356&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;sets transferrable&quot;,
      &quot;fullTitle&quot;: &quot;#allowTransfers sets transferrable&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 11334,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                let transferable = await contribution.transferable();\n                assert.equal(transferable, false);\n                await contribution.allowTransfers(true);\n                transferable = await contribution.transferable();\n                assert.equal(transferable, true);\n                let balanceOwner = await cnd.balanceOf(owner);\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(balanceOwner.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);\n                await cnd.transfer(foundersWallet, userShouldReceiveTokens, { from: owner });\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;founderwallet did not receive tokens&#x27;);\n                balanceOwner = await cnd.balanceOf(owner);\n                assert.equal(balanceOwner.toNumber(), 0);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;b46113e5-aad6-4fc4-af35-e01f22e44e83&quot;,
      &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;always allows to transfer after October 12&quot;,
      &quot;fullTitle&quot;: &quot;#allowTransfers always allows to transfer after October 12&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 16362,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const balanceBeforeMiner = await cnd.balanceOf(miner);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                let balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner.toNumber(), balanceBeforeMiner.toNumber());\n                const October12_2017 = 1507830400;\n                await contribution.setBlockTimestamp(October12_2017 + 1);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner, 0);\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), balanceBeforeMiner.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;89f71ea2-db51-4a4d-9ba1-d689b7d44d96&quot;,
      &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;happy path - returns true&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen happy path - returns true&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5202,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, true);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;7c8dcfc1-3cc1-401e-8bec-b3ff44c3744e&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;returns false when endTime passed&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen returns false when endTime passed&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6193,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;5e275866-7110-4aec-8068-abdc43c94081&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;returns false when finalized was called&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen returns false when finalized was called&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 12422,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner, advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                const finalizedTime = await tier1_deployed.finalizedTime();\n                assert(finalizedTime.toNumber() &gt; 0);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;2078af31-7f0d-451f-8095-f95339c02274&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    }
  ],
  &quot;allPending&quot;: [],
  &quot;allPasses&quot;: [
    {
      &quot;title&quot;: &quot;#constructor accepts MiniMe instance&quot;,
      &quot;fullTitle&quot;: &quot;Contract: Contribution #constructor accepts MiniMe instance&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5734,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n        const tokenFactory = await MiniMeTokenFactory.new();\n        const cnd = await CND.new(tokenFactory.address);\n        const contribution = await Contribution.new(\n            cnd.address,\n            contributionWallet,\n            foundersWallet,\n            advisorsWallet,\n            bountyWallet\n        );\n        // await contribution.changeController(owner);\n        const miniMe = await contribution.cnd();\n        const contributionWalletAddress = await contribution.contributionWallet();\n        const foundersWalletAddress = await contribution.foundersWallet();\n        const bountyWalletAddress = await contribution.bountyWallet();\n        const advisorsWalletAddress = await contribution.advisorsWallet();\n        assert.equal(\n            miniMe,\n            cnd.address,\n            \&quot;== token address\&quot;\n        );\n        assert.equal(\n            contributionWalletAddress,\n            contributionWallet,\n            \&quot;== contribution wallet address\&quot;\n        );\n        assert.equal(\n            foundersWalletAddress,\n            foundersWallet,\n            \&quot;== founders wallet address\&quot;\n        );\n        assert.equal(\n            bountyWalletAddress,\n            bountyWallet,\n            \&quot;== bounty wallet address\&quot;\n        );\n        assert.equal(\n            advisorsWalletAddress,\n            advisorsWallet,\n            \&quot;== advisors wallet address\&quot;\n        );&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6ccebc62-6920-4726-91ef-08dbc0268edb&quot;,
      &quot;parentUUID&quot;: &quot;7aa950c7-66f6-4632-9b90-7e6d073b384d&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;can intialize 4 tiers&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier can intialize 4 tiers&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 20293,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            const tier1_from_contribution_array = await contribution.tiers(0);\n            assert.equal(tier1_from_contribution_array, tier1_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier2_from_contribution_array = await contribution.tiers(1);\n            assert.equal(tier2_from_contribution_array, tier2_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier3_from_contribution_array = await contribution.tiers(2);\n            assert.equal(tier3_from_contribution_array, tier3_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);\n            const tier4_from_contribution_array = await contribution.tiers(3);\n            assert.equal(tier4_from_contribution_array, tier4_deployed.address, \&quot;Contribution can&#x27;t save tier\&quot;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;25f45cd7-9eb6-4bef-bdb8-fa7cc5812800&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you try to overwrite tier&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier throws when you try to overwrite tier&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 7182,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            const txReceipt = await contribution.initializeTier(0, \&quot;0x999\&quot;);\n            const tier = await contribution.tiers(0);\n            assert.equal(tier, tier1_deployed.address);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;0b958097-451e-4916-ada1-3b5a5e186829&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you try to initialize 5 tiers&quot;,
      &quot;fullTitle&quot;: &quot;#initializeTier throws when you try to initialize 5 tiers&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 23386,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n            await deployThreeTiers();\n            await contribution.initializeTier(\n                0, tier1_deployed.address\n            );\n            await contribution.initializeTier(\n                1, tier2_deployed.address\n            );\n            await contribution.initializeTier(\n                2, tier3_deployed.address\n            );\n            await contribution.initializeTier(\n                3, tier4_deployed.address\n            );\n            await contribution.initializeTier(4, tier1_deployed.address);\n            const tier = await contribution.tiers(4);\n            assert.equal(tier, \&quot;0x\&quot;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;42b3cad2-1e09-4372-a0c9-f39543d4d993&quot;,
      &quot;parentUUID&quot;: &quot;45cebc74-5d77-4948-a271-27a528cd6c4a&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when called&quot;,
      &quot;fullTitle&quot;: &quot;fallback throws when called&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 8237,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.send(tier1_params.minimum);\n                await tier1_deployed.send(tier1_params.minimum);\n                await cnd.send(tier1_params.minimum);\n                const totalInvested = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvested, 0);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;59b9eab5-4c93-4747-8635-bf314313ce55&quot;,
      &quot;parentUUID&quot;: &quot;65eddc67-abb8-4d64-a4a5-e1eb82ab5ed0&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;allows to buy 1 whiteslited investor&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy allows to buy 1 whiteslited investor&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3667,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const pre = await web3.eth.getBalance(owner);\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                const post = await web3.eth.getBalance(owner);\n                const postCon = await web3.eth.getBalance(contributionWallet);\n                assert(post.toNumber() &lt; pre.toNumber(), &#x27;post is more than pre&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), weiToSend.toNumber(), &#x27;contributionWallet balance is not equal to weiToSend&#x27;);\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), weiToSend.toNumber(), &#x27;totalWei is not equal to invested amount&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = weiToSend.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                let tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), tier1_params.maxInvestorCap.sub(weiToSend).mul(tier1_params.exchangeRate));\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;f75c3ace-985e-403e-b5b4-b2b14a031325&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy buys tokens on the amount available to buy and sends refund if it exceeds maxCapInvestor&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5058,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const weiToSend = tier1_params.minimum.mul(2);\n                const contWallBalanceBefore = await web3.eth.getBalance(contributionWallet);\n                const txReceipt = await contribution.proxyPayment(owner, { from: owner, value: weiToSend });\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.maxInvestorCap.toNumber());\n                const tokensLeft = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeft.toNumber(), 0);\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, false, &#x27;capTier should not be full&#x27;);\n                const contWallBalanceAfter = await web3.eth.getBalance(contributionWallet);\n                assert.equal(contWallBalanceAfter.sub(contWallBalanceBefore).toNumber(), tier1_params.maxInvestorCap.toNumber(), &#x27;contributionWallet balance is not equal to maxCap&#x27;);\n                const totalSold = await contribution.totalTokensSold();\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(totalSold.toNumber(), userShouldReceiveTokens, &#x27;totalSoldTokens is not equal to how much was sold&#x27;);\n                const balance = await cnd.balanceOf(owner);\n                assert.equal(balance.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;4863b6a1-26d3-4cdf-a2b2-fa0f51469453&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if maxCapInvestor is reached&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if maxCapInvestor is reached&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3104,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: 1 });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6b541cba-489a-4527-b27c-c804a39ccc8f&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if tier cap is reached&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if tier cap is reached&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 9300,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;dba5a247-b44c-4795-bf98-1065dc0f2899&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if not whitelisted&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if not whitelisted&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3045,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.minimum });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;7eb180b1-5250-44a4-b7ba-16f71b1af440&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if endTime is passed&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy throws if endTime is passed&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6181,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;52377389-aec2-42ef-a6f2-a2111f273647&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;reach totalCap happy path&quot;,
      &quot;fullTitle&quot;: &quot;#proxyBuy reach totalCap happy path&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5180,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.whitelistAddresses([advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                let totalNow = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalNow.toNumber(), tier1_params.totalCap.toNumber());\n                let tokensLeftOwner = await contribution.investorAmountTokensToBuy(owner);\n                assert.equal(tokensLeftOwner.toNumber(), 0);\n                let tokensLeftAdvisor = await contribution.investorAmountTokensToBuy(advisorsWallet);\n                // tier cap is 2 eth, we should only process 0.5 eth, so 1 eth * exchangeRate = 3 * 10**18 tokens\n                assert.equal(tokensLeftAdvisor.toNumber(), new BigNumber(10 ** 18 * 3));\n                const isCapReached = await contribution.isCurrentTierCapReached();\n                assert.equal(isCapReached, true);\n                const totalSold = await contribution.totalTokensSold();\n                assert.equal(totalSold, tier1_params.totalCap.mul(tier1_params.exchangeRate).toNumber());\n                const investedWei = await tier1_deployed.totalInvestedWei();\n                assert.equal(investedWei.toNumber(), tier1_params.totalCap.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;adb6b484-be78-41aa-8b30-726abfcc9b05&quot;,
      &quot;parentUUID&quot;: &quot;7e76636e-47af-4657-bfaf-184ee513fdd2&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;increases tierCount&quot;,
      &quot;fullTitle&quot;: &quot;#finalize increases tierCount&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6139,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 0);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.finalize();\n                tierCount = await contribution.tierCount();\n                assert.equal(tierCount.toNumber(), 1);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;f16c2111-3ba9-44ad-8250-b80ee05514c6&quot;,
      &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you call finalize on non-existed tier&quot;,
      &quot;fullTitle&quot;: &quot;#finalize throws when you call finalize on non-existed tier&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 3028,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const tierCountBefore = await contribution.tierCount();\n                await contribution.finalize();\n                const tierCountAfter = await contribution.tierCount();\n                assert.equal(tierCountBefore.toNumber(), tierCountAfter.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;c56a89ff-90b1-4410-b06b-299dafa8bce8&quot;,
      &quot;parentUUID&quot;: &quot;a06479b1-7504-409e-b034-9888333efed3&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;sets paused&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution sets paused&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 4081,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let paused = await contribution.paused();\n                assert.equal(paused, false);\n                await contribution.pauseContribution(true);\n                paused = await contribution.paused();\n                assert.equal(paused, true);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;418bbeb6-e895-4690-8b26-3542fe7df39f&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws when you proxyBuy with paused state&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution throws when you proxyBuy with paused state&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 15491,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.pauseContribution(true);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                const totalInvestedBefore = await tier1_deployed.totalInvestedWei();\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const totalInvestedAfter = await tier1_deployed.totalInvestedWei();\n                assert.equal(totalInvestedAfter.toNumber(), totalInvestedBefore.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;04579007-6112-4a89-a6e8-eeecb96d5d13&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;throws if non-owner calls it&quot;,
      &quot;fullTitle&quot;: &quot;#pauseContribution throws if non-owner calls it&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 4195,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                const before = await contribution.paused();\n                await contribution.pauseContribution(true, { from: advisorsWallet });\n                const after = await contribution.paused();\n                assert.equal(before, after);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;a8da54fd-8372-4db8-ad2d-4ce0793596a7&quot;,
      &quot;parentUUID&quot;: &quot;fb37fca3-5fd2-4756-81ce-124b3c7a3352&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;happy path&quot;,
      &quot;fullTitle&quot;: &quot;#allocate happy path&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 46989,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                const should = require(&#x27;chai&#x27;)\n                    .use(require(&#x27;chai-as-promised&#x27;))\n                    .use(require(&#x27;chai-bignumber&#x27;)(BigNumber))\n                    .should()\n                await deployThreeTiers();\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.initializeTier(\n                    1, tier2_deployed.address\n                );\n                await contribution.initializeTier(\n                    2, tier3_deployed.address\n                );\n                await contribution.initializeTier(\n                    3, tier4_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier4_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.finalize();\n                await contribution.proxyPayment(owner, { from: owner, value: tier4_params.maxInvestorCap });\n                const totalTokenSold = await contribution.totalTokensSold();\n                const totalSupply = totalTokenSold.mul(100).div(75);\n                const foundersAmount = totalSupply.div(5);\n                const advisorsAmount = totalSupply.mul(38).div(1000);\n                const bountyAmount = totalSupply.mul(12).div(1000);\n                await contribution.finalize();\n                //will be succesful\n                await contribution.allocate();\n                // will be rejected\n                await contribution.allocate();\n                const balanceFounders = await cnd.balanceOf(foundersWallet);\n                const balanceAdvisors = await cnd.balanceOf(advisorsWallet);\n                const balanceBounty = await cnd.balanceOf(bountyWallet);\n                foundersAmount.should.be.bignumber.equal(balanceFounders, 0, BigNumber.ROUND_DOWN, &#x27;balanceFounders failed&#x27;);\n                advisorsAmount.should.be.bignumber.equal(advisorsAmount, 0, BigNumber.ROUND_DOWN, &#x27;balanceAdvisors failed&#x27;);\n                bountyAmount.should.be.bignumber.equal(balanceBounty, 0, BigNumber.ROUND_DOWN, &#x27;balanceBounty failed&#x27;);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;6786de15-d51e-4088-ac96-d133d816d451&quot;,
      &quot;parentUUID&quot;: &quot;32614910-8138-46d5-b48a-ba096b01d356&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;sets transferrable&quot;,
      &quot;fullTitle&quot;: &quot;#allowTransfers sets transferrable&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 11334,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                let transferable = await contribution.transferable();\n                assert.equal(transferable, false);\n                await contribution.allowTransfers(true);\n                transferable = await contribution.transferable();\n                assert.equal(transferable, true);\n                let balanceOwner = await cnd.balanceOf(owner);\n                const userShouldReceiveTokens = tier1_params.maxInvestorCap.mul(tier1_params.exchangeRate);\n                assert.equal(balanceOwner.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;balanceOf doesnot have right amout of tokens&#x27;);\n                await cnd.transfer(foundersWallet, userShouldReceiveTokens, { from: owner });\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), userShouldReceiveTokens.toNumber(), &#x27;founderwallet did not receive tokens&#x27;);\n                balanceOwner = await cnd.balanceOf(owner);\n                assert.equal(balanceOwner.toNumber(), 0);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;b46113e5-aad6-4fc4-af35-e01f22e44e83&quot;,
      &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;always allows to transfer after October 12&quot;,
      &quot;fullTitle&quot;: &quot;#allowTransfers always allows to transfer after October 12&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 16362,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                const balanceBeforeMiner = await cnd.balanceOf(miner);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                let balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner.toNumber(), balanceBeforeMiner.toNumber());\n                const October12_2017 = 1507830400;\n                await contribution.setBlockTimestamp(October12_2017 + 1);\n                await cnd.transfer(foundersWallet, tier1_params.maxInvestorCap);\n                balanceAfterMiner = await cnd.balanceOf(miner);\n                assert.equal(balanceAfterMiner, 0);\n                const balanceFounder = await cnd.balanceOf(foundersWallet);\n                assert.equal(balanceFounder.toNumber(), balanceBeforeMiner.toNumber());&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;89f71ea2-db51-4a4d-9ba1-d689b7d44d96&quot;,
      &quot;parentUUID&quot;: &quot;9ba0aa33-58d0-42e1-bb22-e95fecd3d73c&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;happy path - returns true&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen happy path - returns true&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 5202,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, true);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;7c8dcfc1-3cc1-401e-8bec-b3ff44c3744e&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;returns false when endTime passed&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen returns false when endTime passed&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 6193,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                let contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);\n                await contribution.setBlockTimestamp(tier1_params.endTime + 1);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;5e275866-7110-4aec-8068-abdc43c94081&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    },
    {
      &quot;title&quot;: &quot;returns false when finalized was called&quot;,
      &quot;fullTitle&quot;: &quot;#contributionOpen returns false when finalized was called&quot;,
      &quot;timedOut&quot;: false,
      &quot;duration&quot;: 12422,
      &quot;state&quot;: &quot;passed&quot;,
      &quot;speed&quot;: &quot;slow&quot;,
      &quot;pass&quot;: true,
      &quot;fail&quot;: false,
      &quot;pending&quot;: false,
      &quot;code&quot;: &quot;async function () {\n                await contribution.initializeTier(\n                    0, tier1_deployed.address\n                );\n                await contribution.setBlockTimestamp(tier1_params.startTime);\n                await contribution.whitelistAddresses([owner, advisorsWallet], 0, true);\n                await contribution.proxyPayment(owner, { from: owner, value: tier1_params.maxInvestorCap });\n                await contribution.proxyPayment(advisorsWallet, { from: advisorsWallet, value: tier1_params.maxInvestorCap });\n                const finalizedTime = await tier1_deployed.finalizedTime();\n                assert(finalizedTime.toNumber() &gt; 0);\n                contributionOpen = await contribution.contributionOpen();\n                assert.equal(contributionOpen, false);&quot;,
      &quot;err&quot;: {},
      &quot;isRoot&quot;: false,
      &quot;uuid&quot;: &quot;2078af31-7f0d-451f-8095-f95339c02274&quot;,
      &quot;parentUUID&quot;: &quot;ecdbbb6d-0ba1-4f1d-9c34-026c7a09f383&quot;,
      &quot;isHook&quot;: false,
      &quot;skipped&quot;: false
    }
  ],
  &quot;allFailures&quot;: [],
  &quot;copyrightYear&quot;: 2017
}" data-config="{&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;cindicator&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;dev&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveJson&quot;:true,&quot;jsonFile&quot;:&quot;/Users/rstorm/repos/audity/cindicator/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/rstorm/repos/audity/cindicator/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>